<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<link rel='stylesheet' href='../public/stylesheets/style.css' />
	<link rel="stylesheet" href="../public/stylesheets/bootstrap-4.3.1.min.css">

	<script src="https://kit.fontawesome.com/60cb495d25.js" crossorigin="anonymous"></script>
	<script type="text/javascript" src="../public/javascripts/jquery-3.5.1.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
	<script type="text/javascript" src="../public/javascripts/angularJS-1.4.6.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/3.2.0/sha.js" integrity="sha512-mvfoZwdzM8yPhlNxN1lU8S5wcfC5aPRCD3W0jsOeA+D75MMCrycxQqIvt6K7c5P7jItn7AXiAreuR+eockUHwQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular-route.js"></script>
	<title>公車查詢系統</title>
	<style>
		.partone{
			width: 88px;
			height: 100vh;
			background-color: #000;

		}
		.icon{
			display: flex;
			flex-direction: column;
		}

		.homepage{
			margin-top: 10px;
			margin-bottom: 40px;
			margin-left: auto;
			margin-right: auto;
		}
		
		
	</style>
</head>
<body>
	<div ng-app='app' ng-controller='homeCtrl'>
		<div class="d-flex">
			<div class="partone">
				<div >
					
					<div class="homepage ">
						<a href="" ><img src="./images/logo/Vector.png" alt="" class="" style="width:44px;margin:5px 15px">
						</a>
					</div>
					
					<div class="icon">
						<span><img src="./images/logo/Subtract.png" alt=""><img src="./images/logo/Vector-2.png" alt="">
						</span>
						<span><img src="./images/logo/Vector-3.png" alt=""><img src="./images/logo/Vector-4.png" alt=""></span>
						<span><img src="./images/logo/Path22.png" alt=""><img src="./images/logo/IconPath.png" alt=""></span>

					</div>
				
				</div>

			</div>
			<div></div>
			<div></div>
		</div>
		
		
	</div>






<script>


function getAuthorizationHeader() {
//  填入自己 ID、KEY 開始
//APP ID：927a8d8378864253906fb329c396b0e3
//APP Key：AuARaXHJA_XlKJdX7j7rF7U-wCI
let AppID = '927a8d8378864253906fb329c396b0e3';
let AppKey = 'AuARaXHJA_XlKJdX7j7rF7U-wCI';
//  填入自己 ID、KEY 結束
let GMTString = new Date().toGMTString();
let ShaObj = new jsSHA('SHA-1', 'TEXT');
ShaObj.setHMACKey(AppKey, 'TEXT');
ShaObj.update('x-date: ' + GMTString);
let HMAC = ShaObj.getHMAC('B64');
let Authorization = 'hmac username=\"' + AppID + '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' + HMAC + '\"';
return { 'Authorization': Authorization, 'X-Date': GMTString };
}

var app = angular.module('app',['ngRoute'])


app.controller('homeCtrl',function($scope,$http){
var urlNewest = 'https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity?$filter=Picture%2FPictureUrl1%20ne%20null&$orderby=StartTime%20desc&$top=3&$format=JSON'
$http.get(urlNewest,
	{ Headers: getAuthorizationHeader() }
).then(function success(Data) {

	//alert('取得成功')
	var data = JSON.stringify(Data.data);
	$scope.newest_data = JSON.parse(data)
	console.log($scope.newest_data);


})

})
</script>
</body>
</html>